<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="h4xG5XuTjoTcM8fRui_yj0Dzy2go3ZTa3RfZBGwZmBg" />
    
    <!-- SEO Meta Tags (English) -->
    <title>Professional QR Code Generator - VIN NESIA</title>
    <meta name="description" content="Create custom QR Codes with your logo for free. The VIN NESIA QR Code Generator supports Text, URL, WiFi, vCard, Location, and Files. Design your QR code with unique colors and styles.">
    <meta name="keywords" content="qr code generator, create qr code, free qr code, vin nesia, online qr code, qr code with logo, wifi qr code, vcard qr code, qr generator tool">
    <meta name="author" content="VIN NESIA">
    <link rel="canonical" href="https://qr.vinnesia.my.id">
    <link rel="icon" type="image/png" href="/favicon-v1.png" sizes="48x48">
    <link rel="shortcut icon" href="/favicon-v1.ico" type="image/x-icon">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://qr.vinnesia.my.id">
    <meta property="og:title" content="QR Code Generator - VIN NESIA">
    <meta property="og:description" content="Easily create custom QR Codes with your logo for free. Supports Text, URL, WiFi, vCard, and more.">
    <meta property="og:image" content="https://www.vinnesia.my.id/og-image.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://qr.vinnesia.my.id">
    <meta property="twitter:title" content="QR Code Generator - VIN NESIA">
    <meta property="twitter:description" content="Easily create custom QR Codes with your logo for free. Supports Text, URL, WiFi, vCard, and more.">
    <meta property="twitter:image" content="https://www.vinnesia.my.id/og-image.png">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6MQ8QLENDT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-6MQ8QLENDT');
    </script>

    <!-- Typewriter Font -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&family=Source+Code+Pro:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- QR Code Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <script src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
    
    <style>
        :root {
            --color-background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 25%, #16213e 50%, #0f0f23 75%, #1a1a2e 100%);
            --color-surface: rgba(26, 26, 46, 0.85);
            --color-primary: #00ff88;
            --color-secondary: #00c4ff;
            --color-accent: #ff0099;
            --color-gold: #ffaa00;
            --color-purple: #aa00ff;
            --color-text: #f0f0f0;
            --color-text-muted: #a0a0b0;
            --color-border: rgba(0, 255, 136, 0.3);
            --color-action: #00897B;
            --color-matrix: #003311;
            --font-mono: 'JetBrains Mono', 'Source Code Pro', 'Courier New', monospace;
            --color-success: #4CAF50;
            --color-warning: #FF9800;
            --color-error: #F44336;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-mono);
            margin: 0;
            background: var(--color-background);
            background-attachment: fixed;
            color: var(--color-text);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Enhanced Matrix Grid Background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 255, 136, 0.08) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 136, 0.08) 1px, transparent 1px),
                radial-gradient(circle at 25% 25%, rgba(0, 196, 255, 0.1) 0%, transparent 25%),
                radial-gradient(circle at 75% 75%, rgba(255, 0, 153, 0.08) 0%, transparent 25%);
            background-size: 25px 25px, 25px 25px, 400px 400px, 600px 600px;
            animation: matrix-flow 25s linear infinite;
            z-index: -2;
            will-change: transform;
            transform: translateZ(0);
        }

        @keyframes matrix-flow {
            0% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(25px, 15px) rotate(0.5deg); }
            66% { transform: translate(-10px, 25px) rotate(-0.3deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 20%, rgba(0, 255, 136, 0.12) 0%, transparent 40%),
                radial-gradient(circle at 80% 80%, rgba(0, 196, 255, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 40% 70%, rgba(255, 0, 153, 0.08) 0%, transparent 30%),
                radial-gradient(circle at 70% 30%, rgba(170, 0, 255, 0.06) 0%, transparent 35%);
            animation: cyber-pulse 12s ease-in-out infinite;
            z-index: -1;
            will-change: opacity, transform;
            transform: translateZ(0);
        }

        @keyframes cyber-pulse {
            0%, 100% { 
                opacity: 0.4; 
                transform: scale(1) rotate(0deg);
            }
            25% { 
                opacity: 0.7; 
                transform: scale(1.02) rotate(0.5deg);
            }
            50% { 
                opacity: 0.5; 
                transform: scale(0.98) rotate(-0.3deg);
            }
            75% { 
                opacity: 0.8; 
                transform: scale(1.01) rotate(0.2deg);
            }
        }

        .container {
            width: 90%;
            max-width: 1400px;
            margin: 2rem auto;
            flex-grow: 1;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            padding: 2rem 1rem;
            border-bottom: 1px solid var(--color-border);
            background: linear-gradient(135deg, 
                rgba(0, 255, 136, 0.15), 
                rgba(0, 196, 255, 0.12), 
                rgba(255, 0, 153, 0.08)
            );
            border-radius: 20px;
            margin-bottom: 2rem;
            backdrop-filter: blur(15px);
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 0 0 1px rgba(0, 255, 136, 0.3);
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent,
                rgba(0, 255, 136, 0.1),
                transparent,
                rgba(0, 196, 255, 0.08),
                transparent
            );
            animation: scan-line 4s linear infinite;
            will-change: transform;
            transform: translateZ(0);
        }

        @keyframes scan-line {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        header h1 {
            margin: 0;
            color: var(--color-text);
            font-size: 2.8em;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            text-shadow: 
                0 0 20px var(--color-primary),
                0 0 40px var(--color-secondary),
                0 2px 4px rgba(0, 0, 0, 0.5);
            position: relative;
            z-index: 1;
        }

        .site-title {
            background: linear-gradient(
                45deg,
                var(--color-primary),
                var(--color-secondary),
                var(--color-accent),
                var(--color-gold)
            );
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradient-shift 3s ease-in-out infinite;
            will-change: background-position;
        }

        @keyframes gradient-shift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .logo-img {
            height: 50px;
            filter: 
                drop-shadow(0 0 15px var(--color-secondary))
                drop-shadow(0 0 30px var(--color-primary));
            animation: logo-float 3s ease-in-out infinite;
            will-change: transform, filter;
            transform: translateZ(0);
        }

        @keyframes logo-float {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg) scale(1);
                filter: 
                    drop-shadow(0 0 15px var(--color-secondary))
                    drop-shadow(0 0 30px var(--color-primary));
            }
            50% { 
                transform: translateY(-8px) rotate(2deg) scale(1.05);
                filter: 
                    drop-shadow(0 0 20px var(--color-accent))
                    drop-shadow(0 0 40px var(--color-gold));
            }
        }

        header p {
            color: var(--color-text-muted);
            font-size: 1.1em;
            margin-top: 0.5rem;
            position: relative;
            z-index: 1;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        main {
            display: flex;
            gap: 2rem;
            margin-top: 2rem;
        }

        .controls {
            flex: 2;
            background: rgba(26, 26, 46, 0.9);
            backdrop-filter: blur(20px);
            padding: 2rem;
            border-radius: 20px;
            border: 1px solid rgba(0, 255, 136, 0.4);
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 0 0 1px rgba(0, 196, 255, 0.2);
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .controls::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(0, 255, 136, 0.08),
                rgba(0, 196, 255, 0.05),
                transparent
            );
            animation: cyber-sweep 6s ease-in-out infinite;
            will-change: transform;
            transform: translateZ(0);
        }

        @keyframes cyber-sweep {
            0%, 100% { transform: translateX(-100%); }
            50% { transform: translateX(200%); }
        }

        .output {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(26, 26, 46, 0.9);
            backdrop-filter: blur(20px);
            padding: 2rem;
            border-radius: 20px;
            border: 1px solid rgba(0, 196, 255, 0.4);
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 0 0 1px rgba(255, 0, 153, 0.2);
            min-height: 350px;
            position: sticky;
            top: 2rem;
            align-self: flex-start;
        }

        .tabs-grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 2;
        }

        .tab-button {
            padding: 0.8rem 0.5rem;
            cursor: pointer;
            border: 1px solid rgba(0, 255, 65, 0.3);
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            font-size: 0.8em;
            color: var(--color-text-muted);
            border-radius: 8px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            white-space: nowrap;
            font-family: var(--font-mono);
            position: relative;
            overflow: hidden;
            will-change: transform, background-color, color;
            transform: translateZ(0);
            text-align: center;
        }

        .tab-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(0, 255, 65, 0.3),
                transparent
            );
            transition: left 0.5s ease;
        }

        .tab-button:hover {
            color: var(--color-text);
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 5px 15px rgba(0, 255, 65, 0.3);
        }

        .tab-button:hover::before {
            left: 100%;
        }

        .tab-button.active {
            color: var(--color-primary);
            font-weight: bold;
            background: rgba(0, 255, 65, 0.1);
            border-color: var(--color-primary);
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.3);
            transform: scale(1.05);
        }

        .tab-content { 
            display: none; 
            position: relative;
            z-index: 2;
        }
        .tab-content.active { 
            display: block;
            animation: fadeInUp 0.5s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-group { 
            margin-bottom: 1rem; 
            position: relative;
        }

        .form-group label { 
            display: block; 
            margin-bottom: 0.5rem; 
            font-weight: bold; 
            color: var(--color-text);
            font-family: var(--font-mono);
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-group input, 
        .form-group textarea, 
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid rgba(0, 255, 65, 0.3);
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 1em;
            background-color: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            color: var(--color-text);
            font-family: var(--font-mono);
            transition: all 0.3s ease;
            will-change: border-color, box-shadow;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 
                0 0 0 2px rgba(0, 255, 65, 0.2),
                0 0 20px rgba(0, 255, 65, 0.1);
        }

        .form-group textarea { 
            resize: vertical; 
            min-height: 100px; 
        }

        .form-group input[type="color"] { 
            padding: 0.2rem; 
            height: 40px; 
            cursor: pointer;
        }

        .file-warning, .form-warning {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 0, 128, 0.1));
            color: var(--color-warning);
            padding: 0.8rem;
            border: 1px solid var(--color-warning);
            border-radius: 8px;
            font-size: 0.85em;
            margin-top: 10px;
            font-family: var(--font-mono);
            backdrop-filter: blur(10px);
        }

        .form-note {
            font-size: 0.8em;
            color: var(--color-text-muted);
            margin-top: 0.3rem;
            font-style: italic;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        #qr-code-container {
            width: 100%;
            max-width: 300px;
            height: auto;
            margin-bottom: 1.5rem;
            padding: 1rem;
            border-radius: 20px;
            box-shadow: 
                0 0 40px rgba(0, 255, 136, 0.4),
                0 0 80px rgba(0, 196, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            box-sizing: border-box;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(0, 255, 136, 0.4);
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
            will-change: box-shadow, transform;
            transform: translateZ(0);
        }

        #qr-code-container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(
                45deg, 
                var(--color-primary), 
                var(--color-secondary), 
                var(--color-accent),
                var(--color-gold),
                var(--color-purple)
            );
            background-size: 400% 400%;
            border-radius: 20px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
            animation: gradient-border 4s ease-in-out infinite;
            will-change: background-position, opacity;
        }

        @keyframes gradient-border {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        #qr-code-container:hover::before {
            opacity: 0.7;
        }

        #qr-code-container:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 
                0 0 50px rgba(0, 255, 136, 0.5),
                0 0 100px rgba(0, 196, 255, 0.3),
                0 15px 35px rgba(0, 0, 0, 0.3);
        }

        #qr-code canvas, 
        #qr-code svg { 
            border-radius: 8px; 
            display: block; 
            width: 100%; 
            height: auto; 
        }

        .download-buttons { 
            display: flex; 
            gap: 1rem; 
            width: 100%; 
        }

        .btn {
            flex-grow: 1;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            text-align: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            border: none;
            font-family: var(--font-mono);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
            will-change: transform, box-shadow;
            transform: translateZ(0);
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            transition: left 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary { 
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary)); 
            color: var(--color-background);
            border: 1px solid transparent;
        }

        .btn-primary:hover { 
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 25px rgba(0, 255, 65, 0.4);
        }

        .btn-secondary { 
            background: linear-gradient(135deg, var(--color-secondary), var(--color-accent)); 
            color: var(--color-background);
        }

        .btn-secondary:hover { 
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 25px rgba(0, 212, 255, 0.4);
        }
        
        .btn-generate {
            background: linear-gradient(135deg, var(--color-action), var(--color-primary));
            color: white;
            width: 100%;
            padding: 1rem;
            margin-top: auto;
            font-size: 1.2em;
            position: relative;
            z-index: 2;
        }

        .btn-generate:hover { 
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 15px 35px rgba(0, 137, 123, 0.4);
        }
        
        .btn-outline { 
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            color: var(--color-secondary); 
            border: 1px solid var(--color-secondary); 
        }

        .btn-outline:hover { 
            background: var(--color-secondary); 
            color: var(--color-background);
            transform: translateY(-2px);
        }

        footer {
            background: linear-gradient(135deg, rgba(10, 10, 10, 0.95), rgba(17, 17, 17, 0.9));
            backdrop-filter: blur(20px);
            color: var(--color-text-muted);
            text-align: center;
            padding: 2.5rem 1.5rem;
            margin-top: 2rem;
            border-top: 1px solid rgba(0, 255, 65, 0.3);
            font-family: var(--font-mono);
            position: relative;
            overflow: hidden;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--color-primary), var(--color-secondary), transparent);
            animation: border-flow 3s linear infinite;
        }

        @keyframes border-flow {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .footer-content { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 1.5rem; 
            position: relative;
            z-index: 1;
        }

        .footer-links { 
            display: flex; 
            flex-wrap: wrap; 
            justify-content: center; 
            gap: 1rem 2rem; 
            list-style: none; 
            padding: 0; 
            margin: 0; 
        }

        .footer-links a { 
            color: var(--color-text-muted); 
            text-decoration: none; 
            transition: all 0.3s ease;
            font-family: var(--font-mono);
            position: relative;
        }

        .footer-links a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--color-secondary);
            transition: width 0.3s ease;
        }

        .footer-links a:hover { 
            color: var(--color-secondary);
            transform: translateY(-2px);
        }

        .footer-links a:hover::after {
            width: 100%;
        }

        .copyright { 
            margin-top: 1rem; 
            font-size: 0.9em; 
            opacity: 0.8;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--color-background);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(var(--color-primary), var(--color-secondary));
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(var(--color-secondary), var(--color-accent));
        }

        /* Performance Media Queries */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* --- RESPONSIVE DESIGN --- */
        @media (max-width: 992px) {
            main { 
                flex-direction: column; 
            }
            
            .output { 
                position: static; 
                align-self: auto; 
            }
            
            .tabs-grid-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .container { 
                width: 95%; 
                margin: 1.5rem auto; 
            }
            
            header h1 { 
                font-size: 2.2em; 
            }
            
            .logo-img { 
                height: 40px; 
            }
            
            .controls, .output { 
                padding: 1.5rem; 
            }
            
            .footer-links { 
                flex-direction: column; 
                gap: 1rem; 
            }
            
            .tabs-grid-container {
                grid-template-columns: repeat(2, 1fr);
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 576px) {
            header h1 { 
                font-size: 1.8em;
                flex-direction: column;
                gap: 10px;
            }
            
            .logo-img { 
                height: 35px; 
            }
            
            .download-buttons { 
                flex-direction: column; 
            }
            
            .btn { 
                padding: 1rem; 
            }
            
            #qr-code-container { 
                padding: 0.5rem; 
            }
            
            .tabs-grid-container { 
                grid-template-columns: repeat(2, 1fr); 
            }

            .tab-button {
                font-size: 0.75em;
                padding: 0.5rem 0.3rem;
            }
        }

        /* High DPI Displays */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .logo-img {
                image-rendering: -webkit-optimize-contrast;
                image-rendering: crisp-edges;
            }
        }
    </style>
</head>
<body>

    <header>
        <h1>
            <img src="logo.png" alt="VIN NESIA Logo" class="logo-img" onerror="this.style.display='none'">
            <span class="site-title">VIN NESIA</span>
        </h1>
        <p>[ PROFESSIONAL QR CODE GENERATOR ]</p>
    </header>

    <main class="container">
        <div class="controls">
            <div class="tabs-grid-container">
                <button class="tab-button active" onclick="openTab(event, 'text')">📝 TEXT/URL</button>
                <button class="tab-button" onclick="openTab(event, 'wifi')">📶 WIFI</button>
                <button class="tab-button" onclick="openTab(event, 'vcard')">👤 VCARD</button>
                <button class="tab-button" onclick="openTab(event, 'email')">📧 EMAIL</button>
                <button class="tab-button" onclick="openTab(event, 'sms')">📱 SMS</button>
                <button class="tab-button" onclick="openTab(event, 'location')">📍 LOCATION</button>
                <button class="tab-button" onclick="openTab(event, 'file')">📁 FILE</button>
                <button class="tab-button" onclick="openTab(event, 'event')">🗓️ EVENT</button>
                <button class="tab-button" onclick="openTab(event, 'crypto')">💰 CRYPTO</button>
                <button class="tab-button" onclick="openTab(event, 'phone')">☎️ PHONE</button>
                <button class="tab-button" onclick="openTab(event, 'whatsapp')">💬 WHATSAPP</button>
                <button class="tab-button" onclick="openTab(event, 'social')">🌐 SOCIAL</button>
                <button class="tab-button" onclick="openTab(event, 'appstore')">📱 APPSTORE</button>
                <button class="tab-button" onclick="openTab(event, 'business')">🏢 BUSINESS</button>
                <button class="tab-button" onclick="openTab(event, 'payment')">💳 PAYMENT</button>
                <button class="tab-button" onclick="openTab(event, 'advanced')">⚡ ADVANCED</button>
            </div>

            <!-- TEXT/URL Tab -->
            <div id="text" class="tab-content active">
                <div class="form-group">
                    <label for="text-input">Text or URL</label>
                    <textarea id="text-input" placeholder="Enter your text or URL here...&#10;Examples:&#10;• https://www.example.com&#10;• Your custom message"></textarea>
                    <div class="form-note">Supports URLs, plain text, or any custom message</div>
                </div>
            </div>

            <!-- WIFI Tab -->
            <div id="wifi" class="tab-content">
                <div class="form-group">
                    <label for="wifi-ssid">Network Name (SSID)</label>
                    <input type="text" id="wifi-ssid" placeholder="MyWiFiNetwork">
                </div>
                <div class="form-group">
                    <label for="wifi-password">Password</label>
                    <input type="text" id="wifi-password" placeholder="Enter network password">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="wifi-encryption">Security Type</label>
                        <select id="wifi-encryption">
                            <option value="WPA">WPA/WPA2/WPA3</option>
                            <option value="WEP">WEP (Legacy)</option>
                            <option value="nopass">Open Network</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="wifi-hidden">Network Visibility</label>
                        <select id="wifi-hidden">
                            <option value="false">Visible Network</option>
                            <option value="true">Hidden Network</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- VCARD Tab -->
            <div id="vcard" class="tab-content">
                <div class="form-row">
                    <div class="form-group">
                        <label for="vcard-fname">First Name</label>
                        <input type="text" id="vcard-fname" placeholder="John">
                    </div>
                    <div class="form-group">
                        <label for="vcard-lname">Last Name</label>
                        <input type="text" id="vcard-lname" placeholder="Doe">
                    </div>
                </div>
                <div class="form-group">
                    <label for="vcard-title">Job Title</label>
                    <input type="text" id="vcard-title" placeholder="Software Engineer">
                </div>
                <div class="form-group">
                    <label for="vcard-org">Organization</label>
                    <input type="text" id="vcard-org" placeholder="Company Name">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="vcard-phone">Phone</label>
                        <input type="tel" id="vcard-phone" placeholder="+1234567890">
                    </div>
                    <div class="form-group">
                        <label for="vcard-mobile">Mobile</label>
                        <input type="tel" id="vcard-mobile" placeholder="+1234567890">
                    </div>
                </div>
                <div class="form-group">
                    <label for="vcard-email">Email</label>
                    <input type="email" id="vcard-email" placeholder="john.doe@example.com">
                </div>
                <div class="form-group">
                    <label for="vcard-url">Website</label>
                    <input type="url" id="vcard-url" placeholder="https://www.example.com">
                </div>
                <div class="form-group">
                    <label for="vcard-address">Address</label>
                    <textarea id="vcard-address" placeholder="Street Address&#10;City, State ZIP&#10;Country"></textarea>
                </div>
                <div class="form-group">
                    <label for="vcard-note">Notes</label>
                    <textarea id="vcard-note" placeholder="Additional information..."></textarea>
                </div>
            </div>

            <!-- EMAIL Tab -->
            <div id="email" class="tab-content">
                <div class="form-group">
                    <label for="email-to">Recipient Email</label>
                    <input type="email" id="email-to" placeholder="recipient@example.com">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="email-cc">CC (Optional)</label>
                        <input type="email" id="email-cc" placeholder="cc@example.com">
                    </div>
                    <div class="form-group">
                        <label for="email-bcc">BCC (Optional)</label>
                        <input type="email" id="email-bcc" placeholder="bcc@example.com">
                    </div>
                </div>
                <div class="form-group">
                    <label for="email-subject">Subject</label>
                    <input type="text" id="email-subject" placeholder="Email subject">
                </div>
                <div class="form-group">
                    <label for="email-body">Message</label>
                    <textarea id="email-body" placeholder="Your email message here..."></textarea>
                </div>
            </div>

            <!-- SMS Tab -->
            <div id="sms" class="tab-content">
                <div class="form-group">
                    <label for="sms-to">Phone Number</label>
                    <input type="tel" id="sms-to" placeholder="+1234567890">
                    <div class="form-note">Include country code for international numbers</div>
                </div>
                <div class="form-group">
                    <label for="sms-body">Message</label>
                    <textarea id="sms-body" placeholder="Your SMS message here..."></textarea>
                </div>
            </div>

            <!-- LOCATION Tab -->
            <div id="location" class="tab-content">
                <div class="form-row">
                    <div class="form-group">
                        <label for="geo-lat">Latitude</label>
                        <input type="text" id="geo-lat" placeholder="40.7128" step="any">
                    </div>
                    <div class="form-group">
                        <label for="geo-lon">Longitude</label>
                        <input type="text" id="geo-lon" placeholder="-74.0060" step="any">
                    </div>
                </div>
                <div class="form-group">
                    <label for="geo-query">Location Name (Optional)</label>
                    <input type="text" id="geo-query" placeholder="New York City">
                </div>
                <div class="form-warning">
                    <strong>Tip:</strong> Use GPS coordinates for precise locations, or search for a place name on Google Maps to get coordinates.
                </div>
            </div>

            <!-- FILE Tab -->
            <div id="file" class="tab-content">
                <div class="form-group">
                    <label for="file-input">Upload File</label>
                    <input type="file" id="file-input">
                    <div class="file-warning">
                        <strong>Important:</strong> Only very small files (&lt; 2KB) recommended. Large files create unscannable QR codes. For larger files, upload to cloud storage and create QR from the share link.
                    </div>
                </div>
                <div class="form-group">
                    <label for="file-name">File Name (Optional)</label>
                    <input type="text" id="file-name" placeholder="document.pdf">
                    <div class="form-note">Custom name for the downloaded file</div>
                </div>
            </div>

            <!-- EVENT Tab -->
            <div id="event" class="tab-content">
                <div class="form-group">
                    <label for="event-summary">Event Title</label>
                    <input type="text" id="event-summary" placeholder="My Event">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="event-start-date">Start Date</label>
                        <input type="date" id="event-start-date">
                    </div>
                    <div class="form-group">
                        <label for="event-start-time">Start Time</label>
                        <input type="time" id="event-start-time">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="event-end-date">End Date</label>
                        <input type="date" id="event-end-date">
                    </div>
                    <div class="form-group">
                        <label for="event-end-time">End Time</label>
                        <input type="time" id="event-end-time">
                    </div>
                </div>
                <div class="form-group">
                    <label for="event-timezone">Timezone</label>
                    <select id="event-timezone">
                        <option value="America/New_York">Eastern Time (EST/EDT)</option>
                        <option value="America/Chicago">Central Time (CST/CDT)</option>
                        <option value="America/Denver">Mountain Time (MST/MDT)</option>
                        <option value="America/Los_Angeles">Pacific Time (PST/PDT)</option>
                        <option value="Europe/London">London (GMT/BST)</option>
                        <option value="Europe/Paris">Central European Time</option>
                        <option value="Asia/Tokyo">Japan Time (JST)</option>
                        <option value="Asia/Shanghai">China Time (CST)</option>
                        <option value="Asia/Jakarta" selected>Indonesia Time (WIB)</option>
                        <option value="UTC">UTC</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="event-location">Location</label>
                    <input type="text" id="event-location" placeholder="Jakarta, Indonesia">
                </div>
                <div class="form-group">
                    <label for="event-description">Description</label>
                    <textarea id="event-description" placeholder="Event details and agenda..."></textarea>
                </div>
                <div class="form-group">
                    <label for="event-url">Event URL (Optional)</label>
                    <input type="url" id="event-url" placeholder="https://event.example.com">
                </div>
            </div>

            <!-- CRYPTO Tab -->
            <div id="crypto" class="tab-content">
                <div class="form-group">
                    <label for="crypto-type">Cryptocurrency</label>
                    <select id="crypto-type">
                        <option value="bitcoin">Bitcoin (BTC)</option>
                        <option value="ethereum">Ethereum (ETH)</option>
                        <option value="litecoin">Litecoin (LTC)</option>
                        <option value="bitcoincash">Bitcoin Cash (BCH)</option>
                        <option value="dogecoin">Dogecoin (DOGE)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="crypto-address">Wallet Address</label>
                    <input type="text" id="crypto-address" placeholder="1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa">
                    <div class="form-note">Enter your cryptocurrency wallet address</div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="crypto-amount">Amount (Optional)</label>
                        <input type="text" id="crypto-amount" placeholder="0.001">
                    </div>
                    <div class="form-group">
                        <label for="crypto-label">Label (Optional)</label>
                        <input type="text" id="crypto-label" placeholder="Donation">
                    </div>
                </div>
                <div class="form-group">
                    <label for="crypto-message">Message (Optional)</label>
                    <input type="text" id="crypto-message" placeholder="Payment for services">
                </div>
            </div>

            <!-- PHONE Tab -->
            <div id="phone" class="tab-content">
                <div class="form-group">
                    <label for="phone-number">Phone Number</label>
                    <input type="tel" id="phone-number" placeholder="+6281234567890">
                    <div class="form-note">Include country code for international calls</div>
                </div>
                <div class="form-group">
                    <label for="phone-extension">Extension (Optional)</label>
                    <input type="text" id="phone-extension" placeholder="123">
                </div>
            </div>

            <!-- WHATSAPP Tab -->
            <div id="whatsapp" class="tab-content">
                <div class="form-group">
                    <label for="whatsapp-number">Phone Number</label>
                    <input type="tel" id="whatsapp-number" placeholder="+6281234567890">
                    <div class="form-note">WhatsApp number with country code (no + symbol needed)</div>
                </div>
                <div class="form-group">
                    <label for="whatsapp-message">Pre-filled Message (Optional)</label>
                    <textarea id="whatsapp-message" placeholder="Hello! I'm interested in..."></textarea>
                </div>
            </div>

            <!-- SOCIAL Tab -->
            <div id="social" class="tab-content">
                <div class="form-group">
                    <label for="social-platform">Social Platform</label>
                    <select id="social-platform">
                        <option value="instagram">Instagram</option>
                        <option value="telegram">Telegram</option>
                        <option value="tiktok">TikTok</option>
                        <option value="twitter">Twitter/X</option>
                        <option value="facebook">Facebook</option>
                        <option value="linkedin">LinkedIn</option>
                        <option value="youtube">YouTube</option>
                        <option value="discord">Discord</option>
                        <option value="snapchat">Snapchat</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="social-username">Username/Handle</label>
                    <input type="text" id="social-username" placeholder="username">
                    <div class="form-note">Enter username without @ symbol</div>
                </div>
            </div>

            <!-- APPSTORE Tab -->
            <div id="appstore" class="tab-content">
                <div class="form-group">
                    <label for="appstore-platform">App Store</label>
                    <select id="appstore-platform">
                        <option value="playstore">Google Play Store</option>
                        <option value="appstore">Apple App Store</option>
                        <option value="amazonappstore">Amazon Appstore</option>
                        <option value="microsoftstore">Microsoft Store</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="appstore-id">App Package/ID or URL</label>
                    <input type="text" id="appstore-id" placeholder="com.example.app or full store URL">
                    <div class="form-note">Package name or complete app store URL</div>
                </div>
            </div>

            <!-- BUSINESS Tab (New) -->
            <div id="business" class="tab-content">
                <div class="form-group">
                    <label for="business-name">Business Name</label>
                    <input type="text" id="business-name" placeholder="Your Business Name">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="business-phone">Phone</label>
                        <input type="tel" id="business-phone" placeholder="+1234567890">
                    </div>
                    <div class="form-group">
                        <label for="business-email">Email</label>
                        <input type="email" id="business-email" placeholder="info@business.com">
                    </div>
                </div>
                <div class="form-group">
                    <label for="business-website">Website</label>
                    <input type="url" id="business-website" placeholder="https://www.business.com">
                </div>
                <div class="form-group">
                    <label for="business-address">Address</label>
                    <textarea id="business-address" placeholder="Street Address&#10;City, State ZIP&#10;Country"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="business-hours">Business Hours</label>
                        <input type="text" id="business-hours" placeholder="Mon-Fri 9AM-5PM">
                    </div>
                    <div class="form-group">
                        <label for="business-category">Category</label>
                        <select id="business-category">
                            <option value="">Select Category</option>
                            <option value="restaurant">Restaurant</option>
                            <option value="retail">Retail Store</option>
                            <option value="service">Service Business</option>
                            <option value="healthcare">Healthcare</option>
                            <option value="education">Education</option>
                            <option value="technology">Technology</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="business-description">Description</label>
                    <textarea id="business-description" placeholder="Brief description of your business..."></textarea>
                </div>
            </div>

            <!-- PAYMENT Tab (New) -->
            <div id="payment" class="tab-content">
                <div class="form-group">
                    <label for="payment-type">Payment Method</label>
                    <select id="payment-type">
                        <option value="paypal">PayPal</option>
                        <option value="venmo">Venmo</option>
                        <option value="cashapp">Cash App</option>
                        <option value="zelle">Zelle</option>
                        <option value="googlepay">Google Pay</option>
                        <option value="applepay">Apple Pay</option>
                        <option value="dana">DANA (Indonesia)</option>
                        <option value="gopay">GoPay (Indonesia)</option>
                        <option value="ovo">OVO (Indonesia)</option>
                        <option value="shopeepay">ShopeePay</option>
                        <option value="custom">Custom Payment Link</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="payment-identifier">Payment ID/Username/URL</label>
                    <input type="text" id="payment-identifier" placeholder="username or full payment URL">
                    <div class="form-note">Username for payment apps or complete payment URL</div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="payment-amount">Amount (Optional)</label>
                        <input type="text" id="payment-amount" placeholder="10.00">
                    </div>
                    <div class="form-group">
                        <label for="payment-currency">Currency</label>
                        <select id="payment-currency">
                            <option value="USD">USD</option>
                            <option value="EUR">EUR</option>
                            <option value="GBP">GBP</option>
                            <option value="IDR" selected>IDR</option>
                            <option value="JPY">JPY</option>
                            <option value="CNY">CNY</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="payment-note">Payment Note</label>
                    <input type="text" id="payment-note" placeholder="Payment for services">
                </div>
            </div>

            <!-- ADVANCED Tab (New) -->
            <div id="advanced" class="tab-content">
                <div class="form-group">
                    <label for="advanced-type">Advanced QR Type</label>
                    <select id="advanced-type">
                        <option value="mecard">MeCard (Contact)</option>
                        <option value="bookmark">Browser Bookmark</option>
                        <option value="skype">Skype Call</option>
                        <option value="zoom">Zoom Meeting</option>
                        <option value="teams">Microsoft Teams</option>
                        <option value="custom">Custom Data/Protocol</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="advanced-data">Data/Content</label>
                    <textarea id="advanced-data" placeholder="Enter your custom data or protocol URL...&#10;&#10;Examples:&#10;• MECARD:N:John,Doe;TEL:+1234567890;EMAIL:john@example.com;;&#10;• skype:username?call&#10;• zoom.us/j/1234567890"></textarea>
                    <div class="form-note">Enter custom protocol URLs or structured data</div>
                </div>
            </div>

            <h3 style="margin-top: 2rem; border-top: 1px solid rgba(0, 255, 65, 0.3); padding-top: 1.5rem; color: var(--color-secondary); font-family: var(--font-mono); text-transform: uppercase; letter-spacing: 1px;">[ DESIGN OPTIONS ]</h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
                <div class="form-group">
                    <label for="dot-color">Foreground Color</label>
                    <input type="color" id="dot-color" value="#000000">
                </div>
                <div class="form-group">
                    <label for="bg-color">Background Color</label>
                    <input type="color" id="bg-color" value="#ffffff">
                </div>
                <div class="form-group">
                    <label for="dot-style">Dot Style</label>
                    <select id="dot-style">
                        <option value="square">Square</option>
                        <option value="dots">Dots</option>
                        <option value="rounded">Rounded</option>
                        <option value="extra-rounded">Extra Rounded</option>
                        <option value="classy">Classy</option>
                        <option value="classy-rounded">Classy Rounded</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="corner-style">Corner Style</label>
                    <select id="corner-style">
                        <option value="square">Square</option>
                        <option value="extra-rounded">Rounded</option>
                        <option value="dot">Dot</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="logo-upload">Upload Logo/Icon</label>
                <input type="file" id="logo-upload" accept="image/*">
                <div class="form-note">Recommended: Square images, PNG with transparent background</div>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem; margin-top: 1rem;">
                <div class="form-group">
                    <label for="qr-size">QR Size</label>
                    <select id="qr-size">
                        <option value="200">Small (200px)</option>
                        <option value="300" selected>Medium (300px)</option>
                        <option value="400">Large (400px)</option>
                        <option value="500">X-Large (500px)</option>
                        <option value="800">Print (800px)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="error-correction">Error Correction</label>
                    <select id="error-correction">
                        <option value="L">Low (~7%)</option>
                        <option value="M">Medium (~15%)</option>
                        <option value="Q">Quartile (~25%)</option>
                        <option value="H" selected>High (~30%)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="logo-size">Logo Size</label>
                    <select id="logo-size">
                        <option value="0.2">Small (20%)</option>
                        <option value="0.3">Medium (30%)</option>
                        <option value="0.4" selected>Large (40%)</option>
                        <option value="0.5">X-Large (50%)</option>
                    </select>
                </div>
            </div>

            <button id="generate-btn" class="btn btn-generate">[ GENERATE PROFESSIONAL QR ]</button>
        </div>

        <div class="output">
            <div id="qr-code-container">
                <div id="qr-code"></div>
            </div>
            <div class="download-buttons">
                <button id="download-png" class="btn btn-primary">PNG</button>
                <button id="download-svg" class="btn btn-secondary">SVG</button>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <a href="https://www.vinnesia.my.id" class="btn btn-outline">[ BACK TO HOMEPAGE ]</a>
            <ul class="footer-links">
                <li><a href="mailto:support@vinnesia.my.id">📧 EMAIL</a></li>
                <li><a href="https://instagram.com/vin.nesia.id" target="_blank" rel="noopener noreferrer">🧑‍💻 INSTAGRAM</a></li>
                <li><a href="https://wa.me/62895354511777" target="_blank" rel="noopener noreferrer">📱 WHATSAPP</a></li>
                <li><a href="privacy" target="_blank">PRIVACY POLICY</a></li>
            </ul>
            <div class="copyright">
                © 2025 VIN NESIA. ALL RIGHTS RESERVED. <br> 📍 INDONESIA
            </div>
        </div>
    </footer>

    <script>
        let currentTab = 'text';
        let logoImage = null;
        let fileDataUrl = null;
        let qrCode = null;

        // Initialize QR Code when library is loaded
        function initQRCode() {
            if (typeof QRCodeStyling === 'undefined') {
                console.error('QRCodeStyling library not loaded');
                document.getElementById('qr-code').innerHTML = '<div style="color: var(--color-accent); text-align: center; padding: 2rem; font-family: var(--font-mono);">ERROR: QR Library not loaded<br>Please refresh the page</div>';
                return;
            }

            const size = parseInt(document.getElementById('qr-size').value) || 300;
            qrCode = new QRCodeStyling({
                width: size,
                height: size,
                data: "Welcome to VIN NESIA Professional QR Generator!",
                image: "",
                dotsOptions: { color: "#000000", type: "square" },
                backgroundOptions: { color: "#ffffff" },
                imageOptions: { crossOrigin: "anonymous", margin: 5, imageSize: 0.4 },
                qrOptions: { errorCorrectionLevel: 'H' },
                cornersSquareOptions: { type: "square" },
                cornersDotOptions: { type: "square" }
            });

            qrCode.append(document.getElementById("qr-code"));
        }

        // Wait for library to load
        function waitForQRCodeStyling() {
            if (typeof QRCodeStyling !== 'undefined') {
                initQRCode();
            } else {
                setTimeout(waitForQRCodeStyling, 100);
            }
        }

        function openTab(evt, tabName) {
            currentTab = tabName;
            
            document.querySelectorAll('.tab-content').forEach(tc => {
                tc.classList.remove('active');
            });
            
            document.querySelectorAll('.tab-button').forEach(tb => {
                tb.classList.remove('active');
            });
            
            setTimeout(() => {
                document.getElementById(tabName).classList.add('active');
                evt.currentTarget.classList.add('active');
            }, 50);
        }

        function generateQrCode() {
            if (!qrCode) {
                console.error('QR Code not initialized');
                return;
            }

            let data = "";
            
            const generateBtn = document.getElementById('generate-btn');
            const originalText = generateBtn.textContent;
            generateBtn.textContent = '[ GENERATING... ]';
            generateBtn.style.opacity = '0.7';
            
            setTimeout(() => {
                switch (currentTab) {
                    case 'text': 
                        data = document.getElementById('text-input').value || "https://qr.vinnesia.my.id"; 
                        break;
                        
                    case 'wifi':
                        const ssid = document.getElementById('wifi-ssid').value;
                        const password = document.getElementById('wifi-password').value;
                        const encryption = document.getElementById('wifi-encryption').value;
                        const hidden = document.getElementById('wifi-hidden').value === 'true' ? 'true' : '';
                        if (ssid) data = `WIFI:T:${encryption};S:${ssid};P:${password};H:${hidden};;`;
                        break;
                        
                    case 'vcard':
                        const fname = document.getElementById('vcard-fname').value;
                        const lname = document.getElementById('vcard-lname').value;
                        const vcardTitle = document.getElementById('vcard-title').value;
                        const vcardPhone = document.getElementById('vcard-phone').value;
                        const vcardMobile = document.getElementById('vcard-mobile').value;
                        const vcardEmail = document.getElementById('vcard-email').value;
                        const vcardOrg = document.getElementById('vcard-org').value;
                        const vcardUrl = document.getElementById('vcard-url').value;
                        const vcardAddress = document.getElementById('vcard-address').value;
                        const vcardNote = document.getElementById('vcard-note').value;
                        
                        if (fname || lname) {
                            data = `BEGIN:VCARD\nVERSION:3.0\nFN:${fname} ${lname}\n`;
                            if (fname || lname) data += `N:${lname};${fname};;;\n`;
                            if (vcardTitle) data += `TITLE:${vcardTitle}\n`;
                            if (vcardOrg) data += `ORG:${vcardOrg}\n`;
                            if (vcardPhone) data += `TEL;TYPE=WORK:${vcardPhone}\n`;
                            if (vcardMobile) data += `TEL;TYPE=CELL:${vcardMobile}\n`;
                            if (vcardEmail) data += `EMAIL:${vcardEmail}\n`;
                            if (vcardUrl) data += `URL:${vcardUrl}\n`;
                            if (vcardAddress) data += `ADR:;;${vcardAddress.replace(/\n/g, ';')};;;\n`;
                            if (vcardNote) data += `NOTE:${vcardNote}\n`;
                            data += `END:VCARD`;
                        }
                        break;
                        
                    case 'email':
                        const to = document.getElementById('email-to').value;
                        const cc = document.getElementById('email-cc').value;
                        const bcc = document.getElementById('email-bcc').value;
                        const subject = document.getElementById('email-subject').value;
                        const body = document.getElementById('email-body').value;
                        
                        if (to) {
                            data = `mailto:${to}`;
                            let params = [];
                            if (cc) params.push(`cc=${encodeURIComponent(cc)}`);
                            if (bcc) params.push(`bcc=${encodeURIComponent(bcc)}`);
                            if (subject) params.push(`subject=${encodeURIComponent(subject)}`);
                            if (body) params.push(`body=${encodeURIComponent(body)}`);
                            if (params.length > 0) data += `?${params.join('&')}`;
                        }
                        break;
                        
                    case 'sms':
                        const smsTo = document.getElementById('sms-to').value;
                        const smsBody = document.getElementById('sms-body').value;
                        if (smsTo) data = `SMSTO:${smsTo}:${encodeURIComponent(smsBody)}`;
                        break;
                        
                    case 'location':
                        const lat = document.getElementById('geo-lat').value;
                        const lon = document.getElementById('geo-lon').value;
                        const query = document.getElementById('geo-query').value;
                        
                        if (lat && lon) {
                            data = `geo:${lat},${lon}`;
                            if (query) data += `?q=${encodeURIComponent(query)}`;
                        } else if (query) {
                            data = `geo:0,0?q=${encodeURIComponent(query)}`;
                        }
                        break;
                        
                    case 'file': 
                        data = fileDataUrl || " "; 
                        break;
                        
                    case 'event':
                        const eventSummary = document.getElementById('event-summary').value;
                        const startDate = document.getElementById('event-start-date').value;
                        const startTime = document.getElementById('event-start-time').value;
                        const endDate = document.getElementById('event-end-date').value;
                        const endTime = document.getElementById('event-end-time').value;
                        const eventTimezone = document.getElementById('event-timezone').value;
                        const eventLocation = document.getElementById('event-location').value;
                        const eventDescription = document.getElementById('event-description').value;
                        const eventUrl = document.getElementById('event-url').value;
                        
                        if (eventSummary && startDate) {
                            const start = `${startDate}${startTime ? 'T' + startTime : ''}`.replace(/[-:]/g, '');
                            const end = endDate ? `${endDate}${endTime ? 'T' + endTime : ''}`.replace(/[-:]/g, '') : '';
                            
                            data = `BEGIN:VCALENDAR\nVERSION:2.0\nBEGIN:VEVENT\n`;
                            data += `SUMMARY:${eventSummary}\n`;
                            data += `DTSTART:${start}\n`;
                            if (end) data += `DTEND:${end}\n`;
                            if (eventLocation) data += `LOCATION:${eventLocation}\n`;
                            if (eventDescription) data += `DESCRIPTION:${eventDescription}\n`;
                            if (eventUrl) data += `URL:${eventUrl}\n`;
                            data += `END:VEVENT\nEND:VCALENDAR`;
                        }
                        break;
                        
                    case 'crypto':
                        const cryptoType = document.getElementById('crypto-type').value;
                        const cryptoAddress = document.getElementById('crypto-address').value;
                        const cryptoAmount = document.getElementById('crypto-amount').value;
                        const cryptoLabel = document.getElementById('crypto-label').value;
                        const cryptoMessage = document.getElementById('crypto-message').value;
                        
                        if (cryptoAddress) {
                            data = `${cryptoType}:${cryptoAddress}`;
                            let params = [];
                            if (cryptoAmount) params.push(`amount=${cryptoAmount}`);
                            if (cryptoLabel) params.push(`label=${encodeURIComponent(cryptoLabel)}`);
                            if (cryptoMessage) params.push(`message=${encodeURIComponent(cryptoMessage)}`);
                            if (params.length > 0) data += `?${params.join('&')}`;
                        }
                        break;
                        
                    case 'phone':
                        const phoneNumber = document.getElementById('phone-number').value;
                        const extension = document.getElementById('phone-extension').value;
                        if (phoneNumber) {
                            data = `tel:${phoneNumber}`;
                            if (extension) data += `,${extension}`;
                        }
                        break;
                        
                    case 'whatsapp':
                        const whatsappNumber = document.getElementById('whatsapp-number').value;
                        const whatsappMessage = document.getElementById('whatsapp-message').value;
                        if (whatsappNumber) {
                            const cleanNumber = whatsappNumber.replace(/[^\d]/g, '');
                            data = `https://wa.me/${cleanNumber}`;
                            if (whatsappMessage) data += `?text=${encodeURIComponent(whatsappMessage)}`;
                        }
                        break;
                        
                    case 'social':
                        const platform = document.getElementById('social-platform').value;
                        const username = document.getElementById('social-username').value;
                        if (username) {
                            const socialUrls = {
                                instagram: `https://instagram.com/${username}`,
                                telegram: `https://t.me/${username}`,
                                tiktok: `https://tiktok.com/@${username}`,
                                twitter: `https://twitter.com/${username}`,
                                facebook: `https://facebook.com/${username}`,
                                linkedin: `https://linkedin.com/in/${username}`,
                                youtube: `https://youtube.com/@${username}`,
                                discord: `https://discord.com/users/${username}`,
                                snapchat: `https://snapchat.com/add/${username}`
                            };
                            data = socialUrls[platform] || `https://${platform}.com/${username}`;
                        }
                        break;
                        
                    case 'appstore':
                        const appPlatform = document.getElementById('appstore-platform').value;
                        const appId = document.getElementById('appstore-id').value;
                        if (appId) {
                            if (appId.startsWith('http')) {
                                data = appId;
                            } else {
                                const storeUrls = {
                                    playstore: `https://play.google.com/store/apps/details?id=${appId}`,
                                    appstore: `https://apps.apple.com/app/id${appId}`,
                                    amazonappstore: `https://www.amazon.com/dp/${appId}`,
                                    microsoftstore: `https://www.microsoft.com/store/apps/${appId}`
                                };
                                data = storeUrls[appPlatform] || appId;
                            }
                        }
                        break;
                        
                    case 'business':
                        const businessName = document.getElementById('business-name').value;
                        const businessPhone = document.getElementById('business-phone').value;
                        const businessEmail = document.getElementById('business-email').value;
                        const businessWebsite = document.getElementById('business-website').value;
                        const businessAddress = document.getElementById('business-address').value;
                        const businessHours = document.getElementById('business-hours').value;
                        const businessCategory = document.getElementById('business-category').value;
                        const businessDescription = document.getElementById('business-description').value;
                        
                        if (businessName) {
                            data = `BEGIN:VCARD\nVERSION:3.0\nFN:${businessName}\n`;
                            if (businessPhone) data += `TEL:${businessPhone}\n`;
                            if (businessEmail) data += `EMAIL:${businessEmail}\n`;
                            if (businessWebsite) data += `URL:${businessWebsite}\n`;
                            if (businessAddress) data += `ADR:;;${businessAddress.replace(/\n/g, ';')};;;\n`;
                            if (businessCategory) data += `CATEGORIES:${businessCategory}\n`;
                            let businessNote = '';
                            if (businessHours) businessNote += `Hours: ${businessHours}`;
                            if (businessDescription) businessNote += (businessNote ? '\n' : '') + businessDescription;
                            if (businessNote) data += `NOTE:${businessNote}\n`;
                            data += `END:VCARD`;
                        }
                        break;
                        
                    case 'payment':
                        const paymentType = document.getElementById('payment-type').value;
                        const paymentId = document.getElementById('payment-identifier').value;
                        const paymentAmount = document.getElementById('payment-amount').value;
                        const paymentCurrency = document.getElementById('payment-currency').value;
                        const paymentNote = document.getElementById('payment-note').value;
                        
                        if (paymentId) {
                            if (paymentType === 'custom' || paymentId.startsWith('http')) {
                                data = paymentId;
                            } else {
                                const paymentUrls = {
                                    paypal: `https://paypal.me/${paymentId}`,
                                    venmo: `https://venmo.com/${paymentId}`,
                                    cashapp: `https://cash.app/$${paymentId}`,
                                    dana: `https://link.dana.id/qr/${paymentId}`,
                                    gopay: `https://gojek.com/gopay/pay/${paymentId}`,
                                    ovo: `https://ovo.id/app/payment?to=${paymentId}`,
                                    shopeepay: `https://wsa.wallet.airpay.co.id/universal-link/account/${paymentId}`
                                };
                                data = paymentUrls[paymentType] || paymentId;
                                
                                if (paymentAmount && (paymentType === 'paypal' || paymentType === 'venmo')) {
                                    data += `/${paymentAmount}`;
                                    if (paymentNote) data += `?note=${encodeURIComponent(paymentNote)}`;
                                }
                            }
                        }
                        break;
                        
                    case 'advanced':
                        const advancedType = document.getElementById('advanced-type').value;
                        const advancedData = document.getElementById('advanced-data').value;
                        
                        if (advancedData) {
                            if (advancedType === 'custom') {
                                data = advancedData;
                            } else {
                                // Process specific advanced types
                                const advancedTemplates = {
                                    mecard: advancedData.startsWith('MECARD:') ? advancedData : `MECARD:${advancedData}`,
                                    bookmark: advancedData,
                                    skype: advancedData.startsWith('skype:') ? advancedData : `skype:${advancedData}`,
                                    zoom: advancedData.includes('zoom.us') ? advancedData : `https://zoom.us/j/${advancedData}`,
                                    teams: advancedData.includes('teams.microsoft.com') ? advancedData : `https://teams.microsoft.com/l/meetup-join/${advancedData}`
                                };
                                data = advancedTemplates[advancedType] || advancedData;
                            }
                        }
                        break;
                }

                // Get design options
                const dotColor = document.getElementById('dot-color').value;
                const bgColor = document.getElementById('bg-color').value;
                const dotStyle = document.getElementById('dot-style').value;
                const cornerStyle = document.getElementById('corner-style').value;
                const qrSize = parseInt(document.getElementById('qr-size').value);
                const errorCorrection = document.getElementById('error-correction').value;
                const logoSize = parseFloat(document.getElementById('logo-size').value);
                
                const qrContainer = document.getElementById('qr-code-container');
                qrContainer.style.backgroundColor = bgColor;

                try {
                    qrCode.update({
                        width: qrSize,
                        height: qrSize,
                        data: data || " ",
                        image: logoImage,
                        dotsOptions: { 
                            color: dotColor, 
                            type: dotStyle 
                        },
                        backgroundOptions: { 
                            color: "transparent" 
                        },
                        cornersSquareOptions: { 
                            type: cornerStyle,
                            color: dotColor 
                        },
                        cornersDotOptions: { 
                            type: cornerStyle,
                            color: dotColor 
                        },
                        qrOptions: { 
                            errorCorrectionLevel: errorCorrection 
                        },
                        imageOptions: { 
                            crossOrigin: "anonymous", 
                            margin: 5, 
                            imageSize: logoSize 
                        }
                    });
                } catch (error) {
                    console.error('Error updating QR code:', error);
                }

                generateBtn.textContent = originalText;
                generateBtn.style.opacity = '1';
            }, 800);
        }
        
        // Event listeners
        document.getElementById('generate-btn').addEventListener('click', generateQrCode);

        document.getElementById('logo-upload').addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => { 
                    logoImage = event.target.result; 
                    generateQrCode(); // Auto-regenerate when logo is uploaded
                };
                reader.readAsDataURL(file);
            }
        });
        
        document.getElementById('file-input').addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                if (file.size > 2048) { // 2KB limit
                    alert('File too large! Please use files smaller than 2KB or upload to cloud storage and use the share link instead.');
                    return;
                }
                const reader = new FileReader();
                reader.onload = (event) => { 
                    fileDataUrl = event.target.result; 
                };
                reader.readAsDataURL(file);
            }
        });

        // Auto-set end date when start date changes
        document.getElementById('event-start-date').addEventListener('change', (e) => {
            const endDateField = document.getElementById('event-end-date');
            if (!endDateField.value) {
                endDateField.value = e.target.value;
            }
        });

        // Download buttons
        document.getElementById('download-png').addEventListener('click', () => {
            if (!qrCode) return;
            const btn = document.getElementById('download-png');
            const originalText = btn.textContent;
            btn.textContent = 'DOWNLOADING...';
            
            try {
                qrCode.download({ name: "vinnesia-professional-qr", extension: "png" });
            } catch (error) {
                console.error('Error downloading PNG:', error);
            }
            
            setTimeout(() => btn.textContent = originalText, 1000);
        });

        document.getElementById('download-svg').addEventListener('click', () => {
            if (!qrCode) return;
            const btn = document.getElementById('download-svg');
            const originalText = btn.textContent;
            btn.textContent = 'DOWNLOADING...';
            
            try {
                qrCode.download({ name: "vinnesia-professional-qr", extension: "svg" });
            } catch (error) {
                console.error('Error downloading SVG:', error);
            }
            
            setTimeout(() => btn.textContent = originalText, 1000);
        });

        // Auto-regenerate on design changes
        const designControls = ['dot-color', 'bg-color', 'dot-style', 'corner-style', 'qr-size', 'error-correction', 'logo-size'];
        designControls.forEach(id => {
            const element = document.getElementById(id);
            if (element) {
                element.addEventListener('change', () => {
                    if (qrCode) generateQrCode();
                });
            }
        });

        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            waitForQRCodeStyling();
            
            // Add hover effects
            const inputs = document.querySelectorAll('input, textarea, select');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.style.transform = 'scale(1.02)';
                });
                
                input.addEventListener('blur', function() {
                    this.style.transform = 'scale(1)';
                });
            });

            setTimeout(() => {
                if (qrCode) generateQrCode();
            }, 1000);
        });

        // Fallback for older browsers
        window.addEventListener('load', () => {
            setTimeout(() => {
                if (typeof QRCodeStyling === 'undefined') {
                    document.getElementById('qr-code').innerHTML = `
                        <div style="color: var(--color-accent); text-align: center; padding: 2rem; font-family: var(--font-mono); border: 1px solid var(--color-accent); border-radius: 8px; background: rgba(255, 0, 128, 0.1);">
                            <h3>⚠️ LIBRARY LOADING ERROR</h3>
                            <p>QR Code library failed to load.<br>Please check your connection and refresh.</p>
                            <button onclick="location.reload()" style="margin-top: 1rem; padding: 0.5rem 1rem; background: var(--color-accent); color: white; border: none; border-radius: 4px; cursor: pointer; font-family: var(--font-mono);">RELOAD</button>
                        </div>
                    `;
                }
            }, 3000);
        });
    </script>

</body>
</html>
